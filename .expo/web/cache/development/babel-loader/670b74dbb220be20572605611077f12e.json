{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lucas\\\\tcc\\\\frontend\\\\src\\\\components\\\\Navigation.js\";\nimport React, { useState, useEffect } from 'react';\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { createDrawerNavigator } from '@react-navigation/drawer';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { Header } from 'react-native-elements';\nimport MapView, { Marker, Callout } from 'react-native-maps';\nimport { requestPermissionsAsync, getCurrentPositionAsync, geocodeAsync } from 'expo-location';\nimport { MaterialIcons, EvilIcons } from '@expo/vector-icons';\nimport { Actions } from 'react-native-router-flux';\nimport api from \"../../services/api\";\nimport { connect } from 'react-redux';\nimport FormCadastroProblema from \"./FormCadastroProblema\";\nimport formLogin from \"./FormLogin\";\nimport AlterarCadastro from \"./AlterarCadastro\";\nimport Perfil from \"./Perfil\";\nimport Buscas from \"./Buscas\";\n\nvar DismissKeyboard = function DismissKeyboard(_ref) {\n  var children = _ref.children;\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    }\n  }, children);\n};\n\nfunction HomeScreen(_ref2) {\n  var navigation = _ref2.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentRegion = _useState2[0],\n      setCurrentRegion = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Problems = _useState4[0],\n      setProblems = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      local = _useState6[0],\n      setLocal = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      areaProblema = _useState8[0],\n      setAreaProblema = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      busca = _useState10[0],\n      setBusca = _useState10[1];\n\n  function LoadAddress() {\n    var local1, _await$getCurrentPosi, coords, latitude, longitude, result;\n\n    return _regeneratorRuntime.async(function LoadAddress$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(geocodeAsync(busca));\n\n          case 2:\n            local1 = _context.sent;\n\n            if (!(local1[0] === undefined || local1 === [])) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(getCurrentPositionAsync({\n              enableHighAccuracy: true\n            }));\n\n          case 6:\n            _await$getCurrentPosi = _context.sent;\n            coords = _await$getCurrentPosi.coords;\n            latitude = coords.latitude, longitude = coords.longitude;\n            setCurrentRegion({\n              latitude: latitude,\n              longitude: longitude,\n              latitudeDelta: 0.04,\n              longitudeDelta: 0.04\n            });\n            _context.next = 15;\n            break;\n\n          case 12:\n            result = {\n              latitude: local1[0].latitude,\n              longitude: local1[0].longitude,\n              latitudeDelta: 0.02,\n              longitudeDelta: 0.02\n            };\n            setLocal([result]);\n            setCurrentRegion({\n              latitude: local1[0].latitude,\n              longitude: local1[0].longitude,\n              latitudeDelta: 0.02,\n              longitudeDelta: 0.02\n            });\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function LoadIcons(props) {\n    var icone = props.icone;\n\n    if (icone === \"Transito\") {\n      return React.createElement(MaterialIcons, {\n        name: \"directions-car\",\n        size: 30,\n        color: \"black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        }\n      });\n    } else if (icone === \"Saude\") {\n      return React.createElement(MaterialIcons, {\n        name: \"local-hospital\",\n        size: 30,\n        color: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        }\n      });\n    } else if (icone === \"Ambiental\") {\n      return React.createElement(EvilIcons, {\n        name: \"trash\",\n        size: 40,\n        color: \"grey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        }\n      });\n    }\n  }\n\n  function loadProblems() {\n    var latitude, longitude, resposta, qtd;\n    return _regeneratorRuntime.async(function loadProblems$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            latitude = currentRegion.latitude, longitude = currentRegion.longitude;\n            qtd = areaProblema.length;\n\n            if (!(qtd != 0)) {\n              _context2.next = 9;\n              break;\n            }\n\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(api.get('/search', {\n              params: {\n                latitude: latitude,\n                longitude: longitude,\n                areaProblema: areaProblema\n              }\n            }));\n\n          case 5:\n            resposta = _context2.sent;\n            setProblems(resposta.data.problem);\n            _context2.next = 14;\n            break;\n\n          case 9:\n            if (!(qtd == 0)) {\n              _context2.next = 14;\n              break;\n            }\n\n            _context2.next = 12;\n            return _regeneratorRuntime.awrap(api.get('/searchAllProblems'));\n\n          case 12:\n            resposta = _context2.sent;\n            setProblems(resposta.data);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function list() {\n    Keyboard.dismiss();\n    navigation.openDrawer();\n  }\n\n  function handleRegionChanged(region) {\n    setCurrentRegion(region);\n  }\n\n  useEffect(function () {\n    var a = loadAllProblems();\n\n    function loadInitialPosition() {\n      var _await$requestPermiss, granted, _await$getCurrentPosi2, coords, latitude, longitude;\n\n      return _regeneratorRuntime.async(function loadInitialPosition$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(requestPermissionsAsync());\n\n            case 2:\n              _await$requestPermiss = _context3.sent;\n              granted = _await$requestPermiss.granted;\n\n              if (!granted) {\n                _context3.next = 11;\n                break;\n              }\n\n              _context3.next = 7;\n              return _regeneratorRuntime.awrap(getCurrentPositionAsync({\n                enableHighAccuracy: true\n              }));\n\n            case 7:\n              _await$getCurrentPosi2 = _context3.sent;\n              coords = _await$getCurrentPosi2.coords;\n              latitude = coords.latitude, longitude = coords.longitude;\n              setCurrentRegion({\n                latitude: latitude,\n                longitude: longitude,\n                latitudeDelta: 0.04,\n                longitudeDelta: 0.04\n              });\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    loadInitialPosition();\n  }, []);\n\n  function loadAllProblems() {\n    var resposta;\n    return _regeneratorRuntime.async(function loadAllProblems$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regeneratorRuntime.awrap(api.get('/searchAllProblems'));\n\n          case 2:\n            resposta = _context4.sent;\n            setProblems(resposta.data);\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  if (!currentRegion) {\n    return null;\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(Header, {\n    containerStyle: {\n      backgroundColor: '#8a2be2'\n    },\n    leftComponent: {\n      icon: 'menu',\n      color: '#fff',\n      onPress: function onPress() {\n        return list();\n      },\n      size: 35\n    },\n    centerComponent: {\n      text: 'REPORTE J√Å',\n      style: {\n        color: '#fff',\n        fontSize: 20\n      },\n      onPress: function onPress() {\n        return Keyboard.dismiss();\n      }\n    },\n    rightComponent: {\n      text: 'Tutorial',\n      color: '#fff',\n      onPress: function onPress() {\n        return Actions.tutorial();\n      },\n      style: {\n        color: '#fff',\n        fontSize: 20\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    }\n  }), React.createElement(DismissKeyboard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    }\n  }, React.createElement(MapView, {\n    initialRegion: currentRegion,\n    style: styles.map,\n    region: currentRegion,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    }\n  }, local.map(function (location) {\n    return React.createElement(MapView.Marker, {\n      draggable: true,\n      onDragEnd: function onDragEnd(e) {\n        return setCurrentRegion(e.nativeEvent.coordinate);\n      },\n      coordinate: {\n        latitude: currentRegion.latitude,\n        longitude: currentRegion.longitude\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      }\n    });\n  }), Problems.map(function (problem) {\n    return React.createElement(MapView.Marker, {\n      key: problem._id,\n      coordinate: {\n        latitude: problem.posicao.coordinates[1],\n        longitude: problem.posicao.coordinates[0],\n        title: \"title\",\n        description: \"description\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      }\n    }, React.createElement(LoadIcons, {\n      icone: problem.areaProblema,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      }\n    }), React.createElement(Callout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      }\n    }, React.createElement(View, {\n      style: styles.callout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      }\n    }, React.createElement(Text, {\n      style: styles.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      }\n    }, \"Area: \", problem.areaProblema, \" \"), React.createElement(Text, {\n      style: styles.problem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      }\n    }, \" Nome: \", problem.nomeProblema), React.createElement(Text, {\n      style: styles.problem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      }\n    }, \" Descri\\xE7\\xE3o: \", problem.descricaoProblema), React.createElement(Text, {\n      style: styles.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      }\n    }, \"Reportado em: \", problem.CreatedAt, \" \"))));\n  }))), React.createElement(View, {\n    style: styles.addForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return Actions.formCadastroProblema();\n    },\n    style: styles.addButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 16,\n      fontWeight: 'bold',\n      color: '#FFF'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    }\n  }, \"Clique aqui e REPORTE J\\xC1!\"))), React.createElement(KeyboardAvoidingView, {\n    style: styles.searchForm,\n    behavior: \"padding\",\n    keyboardVerticalOffset: \"20\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    }\n  }, React.createElement(TextInput, {\n    style: styles.searchInput,\n    placeholder: \"Pesquisar uma localiza\\xE7\\xE3o...\",\n    placeholderTextColor: \"#999\",\n    autoCapitalize: \"words\",\n    autoCorrect: false,\n    value: busca,\n    onChangeText: function onChangeText(texto) {\n      return setBusca(texto);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      LoadAddress();\n    },\n    style: styles.loadButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    }\n  }, React.createElement(MaterialIcons, {\n    name: \"my-location\",\n    size: 20,\n    color: \"#FFF\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    }\n  }))));\n}\n\nvar Drawer = createDrawerNavigator();\nexport var App = function App(props) {\n  return React.createElement(NavigationContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    }\n  }, React.createElement(Drawer.Navigator, {\n    initialRouteName: \"Home\",\n    drawerStyle: {\n      backgroundColor: '#4b0082'\n    },\n    drawerContentOptions: {\n      contentContainerStyle: {\n        marginTop: 10\n      },\n      activeTintColor: '#8a2be2',\n      inactiveTintColor: '#8a2be2',\n      inactiveBackgroundColor: '#d3d3d3',\n      activeBackgroundColor: '#d3d3d3',\n      itemStyle: {\n        marginTop: 20\n      },\n      labelStyle: {\n        fontSize: 25\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    }\n  }, React.createElement(Drawer.Screen, {\n    name: props.nome,\n    component: HomeScreen,\n    options: {\n      drawerIcon: function drawerIcon(config) {\n        return React.createElement(Image, {\n          source: require(\"../imgs/eu.jpeg\"),\n          style: {\n            height: 40,\n            width: 50,\n            paddingTop: 60,\n            borderRadius: 100\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          }\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Perfil\",\n    component: Perfil,\n    options: {\n      drawerIcon: function drawerIcon(config) {\n        return React.createElement(MaterialIcons, {\n          name: \"comment\",\n          size: 20,\n          color: \"#FFF\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          }\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Reporte J\\xE1\",\n    component: FormCadastroProblema,\n    options: {\n      drawerIcon: function drawerIcon(config) {\n        return React.createElement(MaterialIcons, {\n          name: \"room\",\n          size: 20,\n          color: \"red\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          }\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Buscar\",\n    component: Buscas,\n    options: {\n      drawerIcon: function drawerIcon(config) {\n        return React.createElement(MaterialIcons, {\n          name: \"search\",\n          size: 20,\n          color: \"#FFF\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          }\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Alterar Cadastro\",\n    component: AlterarCadastro,\n    options: {\n      drawerIcon: function drawerIcon(config) {\n        return React.createElement(MaterialIcons, {\n          name: \"contact-mail\",\n          size: 20,\n          color: \"red\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          }\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Sair\",\n    component: formLogin,\n    options: {\n      drawerIcon: function drawerIcon(config) {\n        return React.createElement(MaterialIcons, {\n          name: \"exit-to-app\",\n          size: 20,\n          color: \"red\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          }\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    }\n  })));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    nome: state.AutenticacaoReducer.userNome\n  };\n};\n\nexport default connect(mapStateToProps)(App);\nvar styles = StyleSheet.create({\n  map: {\n    flex: 1\n  },\n  avatar: {\n    width: 54,\n    height: 54,\n    borderRadius: 2,\n    borderWidth: 2,\n    borderColor: '#FFF'\n  },\n  callout: {\n    width: 200,\n    height: 100\n  },\n  user: {\n    fontWeight: 'bold',\n    fontSize: 16\n  },\n  problem: {\n    color: '#666',\n    marginTop: 5\n  },\n  data: {\n    marginTop: 5\n  },\n  searchForm: {\n    position: 'absolute',\n    top: 100,\n    left: 20,\n    right: 20,\n    zIndex: 5,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  searchInput: {\n    flex: 1,\n    height: 50,\n    backgroundColor: '#FFF',\n    color: '#333',\n    borderRadius: 25,\n    paddingHorizontal: 20,\n    fontSize: 16,\n    shadowColor: '#000',\n    shadowOpacity: 0.2,\n    shadowOffset: {\n      width: 4,\n      height: 4\n    },\n    elevation: 2\n  },\n  loadButton: {\n    width: 50,\n    height: 50,\n    backgroundColor: '#8E4Dff',\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 15\n  },\n  addButton: {\n    width: 225,\n    height: 60,\n    backgroundColor: '#8E4Dff',\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 15\n  },\n  addForm: {\n    alignSelf: 'center',\n    position: 'absolute',\n    bottom: 20,\n    zIndex: 5\n  }\n});","map":{"version":3,"sources":["C:/Users/Lucas/tcc/frontend/src/components/Navigation.js"],"names":["React","useState","useEffect","createDrawerNavigator","NavigationContainer","Header","MapView","Marker","Callout","requestPermissionsAsync","getCurrentPositionAsync","geocodeAsync","MaterialIcons","EvilIcons","Actions","api","connect","FormCadastroProblema","formLogin","AlterarCadastro","Perfil","Buscas","DismissKeyboard","children","Keyboard","dismiss","HomeScreen","navigation","currentRegion","setCurrentRegion","Problems","setProblems","local","setLocal","areaProblema","setAreaProblema","busca","setBusca","LoadAddress","local1","undefined","enableHighAccuracy","coords","latitude","longitude","latitudeDelta","longitudeDelta","result","LoadIcons","props","icone","loadProblems","qtd","length","get","params","resposta","data","problem","list","openDrawer","handleRegionChanged","region","a","loadAllProblems","loadInitialPosition","granted","backgroundColor","icon","color","onPress","size","text","style","fontSize","tutorial","styles","map","location","e","nativeEvent","coordinate","_id","posicao","coordinates","title","description","callout","user","nomeProblema","descricaoProblema","CreatedAt","addForm","formCadastroProblema","addButton","fontWeight","searchForm","searchInput","texto","loadButton","Drawer","App","contentContainerStyle","marginTop","activeTintColor","inactiveTintColor","inactiveBackgroundColor","activeBackgroundColor","itemStyle","labelStyle","nome","drawerIcon","config","require","height","width","paddingTop","borderRadius","mapStateToProps","state","AutenticacaoReducer","userNome","StyleSheet","create","flex","avatar","borderWidth","borderColor","position","top","left","right","zIndex","flexDirection","justifyContent","paddingHorizontal","shadowColor","shadowOpacity","shadowOffset","elevation","alignItems","marginLeft","alignSelf","bottom"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;;;;;;;;;;AAEA,SAASC,qBAAT,QAAsC,0BAAtC;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,OAAOC,OAAP,IAAkBC,MAAlB,EAA0BC,OAA1B,QAAyC,mBAAzC;AACA,SAASC,uBAAT,EAAkCC,uBAAlC,EAA2DC,YAA3D,QAA+E,eAA/E;AACA,SAASC,aAAT,EAAwBC,SAAxB,QAAwC,oBAAxC;AACA,SAASC,OAAT,QAAwB,0BAAxB;AACA,OAAOC,GAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AAGA,OAAOC,oBAAP;AACA,OAAOC,SAAP;AACA,OAAOC,eAAP;AACA,OAAOC,MAAP;AACA,OAAOC,MAAP;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,SACtB,oBAAC,wBAAD;AAA0B,IAAA,OAAO,EAAE;AAAA,aAAMC,QAAQ,CAACC,OAAT,EAAN;AAAA,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,QADH,CADsB;AAAA,CAAxB;;AAMA,SAASG,UAAT,QAAoC;AAAA,MAAdC,UAAc,SAAdA,UAAc;;AAAA,kBACQ1B,QAAQ,CAAC,IAAD,CADhB;AAAA;AAAA,MAC3B2B,aAD2B;AAAA,MACZC,gBADY;;AAAA,mBAEF5B,QAAQ,CAAC,EAAD,CAFN;AAAA;AAAA,MAE3B6B,QAF2B;AAAA,MAEjBC,WAFiB;;AAAA,mBAGR9B,QAAQ,CAAC,EAAD,CAHA;AAAA;AAAA,MAG3B+B,KAH2B;AAAA,MAGpBC,QAHoB;;AAAA,mBAIMhC,QAAQ,CAAC,EAAD,CAJd;AAAA;AAAA,MAI3BiC,YAJ2B;AAAA,MAIbC,eAJa;;AAAA,mBAKTlC,QAAQ,CAAC,EAAD,CALC;AAAA;AAAA,MAK3BmC,KAL2B;AAAA,MAKrBC,QALqB;;AAOnC,WAAeC,WAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACuB3B,YAAY,CAACyB,KAAD,CADnC;;AAAA;AACQG,YAAAA,MADR;;AAAA,kBAGIA,MAAM,CAAC,CAAD,CAAN,KAAcC,SAAd,IAA2BD,MAAM,KAAK,EAH1C;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAI4B7B,uBAAuB,CAAC;AAC/C+B,cAAAA,kBAAkB,EAAE;AAD2B,aAAD,CAJnD;;AAAA;AAAA;AAIWC,YAAAA,MAJX,yBAIWA,MAJX;AAOUC,YAAAA,QAPV,GAOiCD,MAPjC,CAOUC,QAPV,EAOoBC,SAPpB,GAOiCF,MAPjC,CAOoBE,SAPpB;AAQGf,YAAAA,gBAAgB,CAAC;AACfc,cAAAA,QAAQ,EAARA,QADe;AAEfC,cAAAA,SAAS,EAATA,SAFe;AAGfC,cAAAA,aAAa,EAAE,IAHA;AAIfC,cAAAA,cAAc,EAAE;AAJD,aAAD,CAAhB;AARH;AAAA;;AAAA;AAgBOC,YAAAA,MAhBP,GAgBgB;AACbJ,cAAAA,QAAQ,EAAEJ,MAAM,CAAC,CAAD,CAAN,CAAUI,QADP;AAEbC,cAAAA,SAAS,EAAEL,MAAM,CAAC,CAAD,CAAN,CAAUK,SAFR;AAGbC,cAAAA,aAAa,EAAE,IAHF;AAIbC,cAAAA,cAAc,EAAE;AAJH,aAhBhB;AAsBEb,YAAAA,QAAQ,CAAC,CAACc,MAAD,CAAD,CAAR;AACAlB,YAAAA,gBAAgB,CAAC;AACfc,cAAAA,QAAQ,EAAEJ,MAAM,CAAC,CAAD,CAAN,CAAUI,QADL;AAEfC,cAAAA,SAAS,EAAEL,MAAM,CAAC,CAAD,CAAN,CAAUK,SAFN;AAGfC,cAAAA,aAAa,EAAE,IAHA;AAIfC,cAAAA,cAAc,EAAE;AAJD,aAAD,CAAhB;;AAvBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAoCC,WAASE,SAAT,CAAmBC,KAAnB,EAAyB;AACvB,QAAMC,KAAK,GAAGD,KAAK,CAACC,KAApB;;AACA,QAAGA,KAAK,KAAK,UAAb,EAAwB;AACtB,aAAQ,oBAAC,aAAD;AAAe,QAAA,IAAI,EAAC,gBAApB;AAAqC,QAAA,IAAI,EAAE,EAA3C;AAA+C,QAAA,KAAK,EAAC,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACD,KAFD,MAGK,IAAGA,KAAK,KAAK,OAAb,EAAqB;AACxB,aAAQ,oBAAC,aAAD;AAAe,QAAA,IAAI,EAAC,gBAApB;AAAqC,QAAA,IAAI,EAAE,EAA3C;AAA+C,QAAA,KAAK,EAAC,KAArD;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACD,KAFI,MAGA,IAAGA,KAAK,KAAK,WAAb,EAA0B;AAC7B,aAAQ,oBAAC,SAAD;AAAW,QAAA,IAAI,EAAC,OAAhB;AAAwB,QAAA,IAAI,EAAE,EAA9B;AAAkC,QAAA,KAAK,EAAC,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACD;AACF;;AAGD,WAAeC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACUR,YAAAA,QADV,GACkCf,aADlC,CACUe,QADV,EACoBC,SADpB,GACkChB,aADlC,CACoBgB,SADpB;AAGQQ,YAAAA,GAHR,GAGclB,YAAY,CAACmB,MAH3B;;AAAA,kBAIKD,GAAG,IAAI,CAJZ;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAKoBrC,GAAG,CAACuC,GAAJ,CAAQ,SAAR,EAAmB;AACnCC,cAAAA,MAAM,EAAE;AACNZ,gBAAAA,QAAQ,EAARA,QADM;AAENC,gBAAAA,SAAS,EAATA,SAFM;AAGNV,gBAAAA,YAAY,EAAZA;AAHM;AAD2B,aAAnB,CALpB;;AAAA;AAKGsB,YAAAA,QALH;AAYEzB,YAAAA,WAAW,CAACyB,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAX;AAZF;AAAA;;AAAA;AAAA,kBAeUN,GAAG,IAAI,CAfjB;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAgBoBrC,GAAG,CAACuC,GAAJ,CAAQ,oBAAR,CAhBpB;;AAAA;AAgBGE,YAAAA,QAhBH;AAkBEzB,YAAAA,WAAW,CAACyB,QAAQ,CAACC,IAAV,CAAX;;AAlBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAwBA,WAASE,IAAT,GAAe;AACbnC,IAAAA,QAAQ,CAACC,OAAT;AACAE,IAAAA,UAAU,CAACiC,UAAX;AACD;;AAED,WAASC,mBAAT,CAA6BC,MAA7B,EAAqC;AACnCjC,IAAAA,gBAAgB,CAACiC,MAAD,CAAhB;AACD;;AAED5D,EAAAA,SAAS,CAAC,YAAM;AAIf,QAAM6D,CAAC,GAAGC,eAAe,EAAzB;;AAEC,aAAeC,mBAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAC4BxD,uBAAuB,EADnD;;AAAA;AAAA;AACUyD,cAAAA,OADV,yBACUA,OADV;;AAAA,mBAGKA,OAHL;AAAA;AAAA;AAAA;;AAAA;AAAA,+CAI6BxD,uBAAuB,CAAC;AAC/C+B,gBAAAA,kBAAkB,EAAE;AAD2B,eAAD,CAJpD;;AAAA;AAAA;AAIYC,cAAAA,MAJZ,0BAIYA,MAJZ;AAQYC,cAAAA,QARZ,GAQoCD,MARpC,CAQYC,QARZ,EAQsBC,SARtB,GAQoCF,MARpC,CAQsBE,SARtB;AAUIf,cAAAA,gBAAgB,CAAC;AACfc,gBAAAA,QAAQ,EAARA,QADe;AAEfC,gBAAAA,SAAS,EAATA,SAFe;AAGfC,gBAAAA,aAAa,EAAE,IAHA;AAIfC,gBAAAA,cAAc,EAAE;AAJD,eAAD,CAAhB;;AAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBAmB,IAAAA,mBAAmB;AAEpB,GA3BQ,EA2BN,EA3BM,CAAT;;AA6BA,WAAeD,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEyBjD,GAAG,CAACuC,GAAJ,CAAQ,oBAAR,CAFzB;;AAAA;AAEQE,YAAAA,QAFR;AAIEzB,YAAAA,WAAW,CAACyB,QAAQ,CAACC,IAAV,CAAX;;AAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAQA,MAAG,CAAC7B,aAAJ,EAAmB;AACjB,WAAO,IAAP;AACD;;AAED,SAEE,0CACA,oBAAC,MAAD;AACI,IAAA,cAAc,EAAE;AAAEuC,MAAAA,eAAe,EAAE;AAAnB,KADpB;AAEI,IAAA,aAAa,EAAE;AAAEC,MAAAA,IAAI,EAAE,MAAR;AAAgBC,MAAAA,KAAK,EAAE,MAAvB;AAA+BC,MAAAA,OAAO,EAAC;AAAA,eAAMX,IAAI,EAAV;AAAA,OAAvC;AAAqDY,MAAAA,IAAI,EAAE;AAA3D,KAFnB;AAGI,IAAA,eAAe,EAAE;AAAEC,MAAAA,IAAI,EAAE,YAAR;AAAsBC,MAAAA,KAAK,EAAE;AAAEJ,QAAAA,KAAK,EAAE,MAAT;AAAkBK,QAAAA,QAAQ,EAAE;AAA5B,OAA7B;AAA8DJ,MAAAA,OAAO,EAAC;AAAA,eAAM9C,QAAQ,CAACC,OAAT,EAAN;AAAA;AAAtE,KAHrB;AAII,IAAA,cAAc,EAAE;AAAE+C,MAAAA,IAAI,EAAE,UAAR;AAAoBH,MAAAA,KAAK,EAAE,MAA3B;AAAmCC,MAAAA,OAAO,EAAC;AAAA,eAAMxD,OAAO,CAAC6D,QAAR,EAAN;AAAA,OAA3C;AAAqEF,MAAAA,KAAK,EAAE;AAACJ,QAAAA,KAAK,EAAE,MAAR;AAAgBK,QAAAA,QAAQ,EAAE;AAA1B;AAA5E,KAJpB;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAOE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA,KAEA,oBAAC,OAAD;AAAW,IAAA,aAAa,EAAE9C,aAA1B;AAAyC,IAAA,KAAK,EAAEgD,MAAM,CAACC,GAAvD;AAA4D,IAAA,MAAM,EAAEjD,aAApE;AAAA;AAAA;AAAA;AAAA;AAAA,KACCI,KAAK,CAAC6C,GAAN,CAAU,UAAAC,QAAQ;AAAA,WACjB,oBAAC,OAAD,CAAS,MAAT;AAAiB,MAAA,SAAS,EAAE,IAA5B;AAAkC,MAAA,SAAS,EAAE,mBAACC,CAAD;AAAA,eAAOlD,gBAAgB,CAACkD,CAAC,CAACC,WAAF,CAAcC,UAAf,CAAvB;AAAA,OAA7C;AAAiG,MAAA,UAAU,EAAE;AAACtC,QAAAA,QAAQ,EAAEf,aAAa,CAACe,QAAzB;AAAmCC,QAAAA,SAAS,EAAEhB,aAAa,CAACgB;AAA5D,OAA7G;AAAA;AAAA;AAAA;AAAA;AAAA,MADiB;AAAA,GAAlB,CADD,EAICd,QAAQ,CAAC+C,GAAT,CAAa,UAAAnB,OAAO;AAAA,WACnB,oBAAC,OAAD,CAAS,MAAT;AAAgB,MAAA,GAAG,EAAEA,OAAO,CAACwB,GAA7B;AAAkC,MAAA,UAAU,EAAE;AAAEvC,QAAAA,QAAQ,EAAEe,OAAO,CAACyB,OAAR,CAAgBC,WAAhB,CAA4B,CAA5B,CAAZ;AAA6CxC,QAAAA,SAAS,EAAEc,OAAO,CAACyB,OAAR,CAAgBC,WAAhB,CAA4B,CAA5B,CAAxD;AAAwFC,QAAAA,KAAK,EAAC,OAA9F;AAAuGC,QAAAA,WAAW,EAAC;AAAnH,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE5B,OAAO,CAACxB,YAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAEA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAO,MAAA,KAAK,EAAG0C,MAAM,CAACW,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEX,MAAM,CAACY,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiC9B,OAAO,CAACxB,YAAzC,MADF,EAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE0C,MAAM,CAAClB,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAqCA,OAAO,CAAC+B,YAA7C,CAFF,EAGE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEb,MAAM,CAAClB,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA,6BAA0CA,OAAO,CAACgC,iBAAlD,CAHF,EAIE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEd,MAAM,CAACnB,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAyCC,OAAO,CAACiC,SAAjD,MAJF,CADJ,CAFA,CADmB;AAAA,GAApB,CAJD,CAFA,CAPF,EAgCE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEf,MAAM,CAACgB,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AAAmB,IAAA,OAAO,EAAE;AAAA,aAAM9E,OAAO,CAAC+E,oBAAR,EAAN;AAAA,KAA5B;AAAkE,IAAA,KAAK,EAAEjB,MAAM,CAACkB,SAAhF;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACpB,MAAAA,QAAQ,EAAC,EAAV;AAAaqB,MAAAA,UAAU,EAAE,MAAzB;AAAgC1B,MAAAA,KAAK,EAAE;AAAvC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,CADF,CAhCF,EAuCG,oBAAC,oBAAD;AAAsB,IAAA,KAAK,EAAEO,MAAM,CAACoB,UAApC;AAAgD,IAAA,QAAQ,EAAC,SAAzD;AAAmE,IAAA,sBAAsB,EAAE,IAA3F;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,SAAD;AACA,IAAA,KAAK,EAAEpB,MAAM,CAACqB,WADd;AAEA,IAAA,WAAW,EAAC,oCAFZ;AAGA,IAAA,oBAAoB,EAAC,MAHrB;AAIA,IAAA,cAAc,EAAC,OAJf;AAKA,IAAA,WAAW,EAAE,KALb;AAMA,IAAA,KAAK,EAAE7D,KANP;AAOA,IAAA,YAAY,EAAE,sBAAA8D,KAAK;AAAA,aAAI7D,QAAQ,CAAC6D,KAAD,CAAZ;AAAA,KAPnB;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAUC,oBAAC,gBAAD;AAAmB,IAAA,OAAO,EAAE,mBAAM;AAAC5D,MAAAA,WAAW;AAAG,KAAjD;AAAmD,IAAA,KAAK,EAAEsC,MAAM,CAACuB,UAAjE;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAe,IAAA,IAAI,EAAC,aAApB;AAAkC,IAAA,IAAI,EAAE,EAAxC;AAA4C,IAAA,KAAK,EAAC,MAAlD;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAVD,CAvCH,CAFF;AA0DD;;AAMD,IAAMC,MAAM,GAAGjG,qBAAqB,EAApC;AAEA,OAAO,IAAMkG,GAAG,GAAG,SAANA,GAAM,CAACpD,KAAD,EAAa;AAC9B,SAEE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD,CAAQ,SAAR;AACA,IAAA,gBAAgB,EAAC,MADjB;AAEA,IAAA,WAAW,EAAE;AAACkB,MAAAA,eAAe,EAAE;AAAlB,KAFb;AAGA,IAAA,oBAAoB,EAAE;AAACmC,MAAAA,qBAAqB,EAAC;AAACC,QAAAA,SAAS,EAAE;AAAZ,OAAvB;AAAwCC,MAAAA,eAAe,EAAE,SAAzD;AACAC,MAAAA,iBAAiB,EAAE,SADnB;AAC8BC,MAAAA,uBAAuB,EAAE,SADvD;AAEAC,MAAAA,qBAAqB,EAAE,SAFvB;AAEmCC,MAAAA,SAAS,EAAE;AAAEL,QAAAA,SAAS,EAAE;AAAb,OAF9C;AAGAM,MAAAA,UAAU,EAAE;AAACnC,QAAAA,QAAQ,EAAE;AAAX;AAHZ,KAHtB;AAAA;AAAA;AAAA;AAAA;AAAA,KAUG,oBAAC,MAAD,CAAQ,MAAR;AAAe,IAAA,IAAI,EAAEzB,KAAK,CAAC6D,IAA3B;AAAiC,IAAA,SAAS,EAAEpF,UAA5C;AACD,IAAA,OAAO,EAAE;AAEPqF,MAAAA,UAAU,EAAE,oBAAAC,MAAM;AAAA,eAAI,oBAAC,KAAD;AAAO,UAAA,MAAM,EAAEC,OAAO,mBAAtB;AACE,UAAA,KAAK,EAAE;AAAEC,YAAAA,MAAM,EAAE,EAAV;AAAcC,YAAAA,KAAK,EAAE,EAArB;AAAyBC,YAAAA,UAAU,EAAE,EAArC;AAAyCC,YAAAA,YAAY,EAAE;AAAvD,WADT;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA;AAFX,KADR;AAAA;AAAA;AAAA;AAAA;AAAA,IAVH,EAkBE,oBAAC,MAAD,CAAQ,MAAR;AAAe,IAAA,IAAI,EAAC,QAApB;AAA6B,IAAA,SAAS,EAAEjG,MAAxC;AACA,IAAA,OAAO,EAAE;AAEP2F,MAAAA,UAAU,EAAE,oBAAAC,MAAM;AAAA,eAAI,oBAAC,aAAD;AAAe,UAAA,IAAI,EAAC,SAApB;AAA8B,UAAA,IAAI,EAAE,EAApC;AAAwC,UAAA,KAAK,EAAC,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA;AAFX,KADT;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,EAwBE,oBAAC,MAAD,CAAQ,MAAR;AAAe,IAAA,IAAI,EAAC,eAApB;AAAiC,IAAA,SAAS,EAAE/F,oBAA5C;AACQ,IAAA,OAAO,EAAE;AACP8F,MAAAA,UAAU,EAAE,oBAAAC,MAAM;AAAA,eAAI,oBAAC,aAAD;AAAe,UAAA,IAAI,EAAC,MAApB;AAA2B,UAAA,IAAI,EAAE,EAAjC;AAAqC,UAAA,KAAK,EAAC,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA;AADX,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBF,EA6BE,oBAAC,MAAD,CAAQ,MAAR;AAAe,IAAA,IAAI,EAAC,QAApB;AAA6B,IAAA,SAAS,EAAE3F,MAAxC;AACQ,IAAA,OAAO,EAAE;AAEP0F,MAAAA,UAAU,EAAE,oBAAAC,MAAM;AAAA,eAAI,oBAAC,aAAD;AAAe,UAAA,IAAI,EAAC,QAApB;AAA6B,UAAA,IAAI,EAAE,EAAnC;AAAuC,UAAA,KAAK,EAAC,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA;AAFX,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA,IA7BF,EAmCE,oBAAC,MAAD,CAAQ,MAAR;AAAe,IAAA,IAAI,EAAC,kBAApB;AAAuC,IAAA,SAAS,EAAE7F,eAAlD;AACQ,IAAA,OAAO,EAAE;AACP4F,MAAAA,UAAU,EAAE,oBAAAC,MAAM;AAAA,eAAI,oBAAC,aAAD;AAAe,UAAA,IAAI,EAAC,cAApB;AAAmC,UAAA,IAAI,EAAE,EAAzC;AAA6C,UAAA,KAAK,EAAC,KAAnD;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA;AADX,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA,IAnCF,EAwCE,oBAAC,MAAD,CAAQ,MAAR;AAAe,IAAA,IAAI,EAAC,MAApB;AAA2B,IAAA,SAAS,EAAE9F,SAAtC;AACC,IAAA,OAAO,EAAE;AACR6F,MAAAA,UAAU,EAAE,oBAAAC,MAAM;AAAA,eAAI,oBAAC,aAAD;AAAe,UAAA,IAAI,EAAC,aAApB;AAAkC,UAAA,IAAI,EAAE,EAAxC;AAA4C,UAAA,KAAK,EAAC,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA;AADV,KADV;AAAA;AAAA;AAAA;AAAA;AAAA,IAxCF,CADF,CAFF;AAkDD,CAnDM;;AAqDP,IAAMM,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAC3B;AACET,IAAAA,IAAI,EAAES,KAAK,CAACC,mBAAN,CAA0BC;AADlC,GAD2B;AAAA,CAA7B;;AAOA,eAAezG,OAAO,CAACsG,eAAD,CAAP,CAAyBjB,GAAzB,CAAf;AAEA,IAAMzB,MAAM,GAAG8C,UAAU,CAACC,MAAX,CAAkB;AAC/B9C,EAAAA,GAAG,EAAE;AACH+C,IAAAA,IAAI,EAAC;AADF,GAD0B;AAI/BC,EAAAA,MAAM,EAAE;AACNV,IAAAA,KAAK,EAAE,EADD;AAEND,IAAAA,MAAM,EAAE,EAFF;AAGNG,IAAAA,YAAY,EAAE,CAHR;AAINS,IAAAA,WAAW,EAAE,CAJP;AAKNC,IAAAA,WAAW,EAAE;AALP,GAJuB;AAW/BxC,EAAAA,OAAO,EAAE;AACP4B,IAAAA,KAAK,EAAE,GADA;AAEPD,IAAAA,MAAM,EAAE;AAFD,GAXsB;AAe/B1B,EAAAA,IAAI,EAAC;AACHO,IAAAA,UAAU,EAAE,MADT;AAEHrB,IAAAA,QAAQ,EAAE;AAFP,GAf0B;AAmB/BhB,EAAAA,OAAO,EAAE;AACPW,IAAAA,KAAK,EAAE,MADA;AAEPkC,IAAAA,SAAS,EAAE;AAFJ,GAnBsB;AAuB/B9C,EAAAA,IAAI,EAAE;AACJ8C,IAAAA,SAAS,EAAE;AADP,GAvByB;AA0B/BP,EAAAA,UAAU,EAAE;AACVgC,IAAAA,QAAQ,EAAE,UADA;AAEVC,IAAAA,GAAG,EAAE,GAFK;AAGVC,IAAAA,IAAI,EAAE,EAHI;AAIVC,IAAAA,KAAK,EAAE,EAJG;AAKVC,IAAAA,MAAM,EAAE,CALE;AAMVC,IAAAA,aAAa,EAAE,KANL;AAOVC,IAAAA,cAAc,EAAC;AAPL,GA1BmB;AAmC/BrC,EAAAA,WAAW,EAAE;AACX2B,IAAAA,IAAI,EAAE,CADK;AAEXV,IAAAA,MAAM,EAAE,EAFG;AAGX/C,IAAAA,eAAe,EAAE,MAHN;AAIXE,IAAAA,KAAK,EAAE,MAJI;AAKXgD,IAAAA,YAAY,EAAE,EALH;AAMXkB,IAAAA,iBAAiB,EAAE,EANR;AAOX7D,IAAAA,QAAQ,EAAE,EAPC;AAQX8D,IAAAA,WAAW,EAAE,MARF;AASXC,IAAAA,aAAa,EAAE,GATJ;AAUXC,IAAAA,YAAY,EAAE;AACZvB,MAAAA,KAAK,EAAE,CADK;AAEZD,MAAAA,MAAM,EAAE;AAFI,KAVH;AAcXyB,IAAAA,SAAS,EAAE;AAdA,GAnCkB;AAmD/BxC,EAAAA,UAAU,EAAE;AACVgB,IAAAA,KAAK,EAAE,EADG;AAEVD,IAAAA,MAAM,EAAE,EAFE;AAGV/C,IAAAA,eAAe,EAAE,SAHP;AAIVkD,IAAAA,YAAY,EAAE,EAJJ;AAKViB,IAAAA,cAAc,EAAE,QALN;AAMVM,IAAAA,UAAU,EAAE,QANF;AAOVC,IAAAA,UAAU,EAAE;AAPF,GAnDmB;AA4D/B/C,EAAAA,SAAS,EAAE;AACTqB,IAAAA,KAAK,EAAE,GADE;AAETD,IAAAA,MAAM,EAAE,EAFC;AAGT/C,IAAAA,eAAe,EAAE,SAHR;AAITkD,IAAAA,YAAY,EAAE,EAJL;AAKTiB,IAAAA,cAAc,EAAE,QALP;AAMTM,IAAAA,UAAU,EAAE,QANH;AAOTC,IAAAA,UAAU,EAAE;AAPH,GA5DoB;AAqE/BjD,EAAAA,OAAO,EAAE;AACPkD,IAAAA,SAAS,EAAE,QADJ;AAEPd,IAAAA,QAAQ,EAAE,UAFH;AAGPe,IAAAA,MAAM,EAAE,EAHD;AAIPX,IAAAA,MAAM,EAAE;AAJD;AArEsB,CAAlB,CAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { BackHandler,Text, View, Image, StyleSheet, TextInput, TouchableOpacity, Keyboard, TouchableWithoutFeedback, KeyboardAvoidingView } from 'react-native';\nimport { createDrawerNavigator } from '@react-navigation/drawer';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { Header } from 'react-native-elements';\nimport MapView, { Marker, Callout } from 'react-native-maps';\nimport { requestPermissionsAsync, getCurrentPositionAsync, geocodeAsync } from 'expo-location';\nimport { MaterialIcons, EvilIcons} from '@expo/vector-icons';\nimport { Actions } from 'react-native-router-flux';\nimport api from '../../services/api';\nimport { connect } from 'react-redux';\n\n\nimport FormCadastroProblema from './FormCadastroProblema';\nimport formLogin from './FormLogin';\nimport AlterarCadastro from './AlterarCadastro';\nimport Perfil from './Perfil';\nimport Buscas from './Buscas';\n\nconst DismissKeyboard = ({ children }) => (\n  <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()}>\n    {children}\n  </TouchableWithoutFeedback>\n);\n\nfunction HomeScreen({ navigation }) {\n  const [currentRegion, setCurrentRegion] = useState(null);\n  const [Problems, setProblems] = useState([]);\n  const [local, setLocal] = useState([]);\n  const [areaProblema, setAreaProblema] = useState('');\n  const [busca,setBusca] = useState('');\n\n async function LoadAddress(){\n   const local1 = await geocodeAsync(busca);\n\n  if(local1[0] === undefined || local1 === []){\n    const { coords } = await getCurrentPositionAsync({\n      enableHighAccuracy: true,\n    });\n    const {latitude, longitude} = coords\n    setCurrentRegion({\n      latitude,\n      longitude,\n      latitudeDelta: 0.04,\n      longitudeDelta: 0.04\n    })\n  }\n  else{\n  const result = {\n    latitude: local1[0].latitude,\n    longitude: local1[0].longitude,\n    latitudeDelta: 0.02,\n    longitudeDelta: 0.02,\n  }\n   setLocal([result])\n   setCurrentRegion({\n     latitude: local1[0].latitude,\n     longitude: local1[0].longitude,\n     latitudeDelta: 0.02,\n     longitudeDelta: 0.02,\n   })\n  }\n   \n  \n   \n\n  }\n\n  function LoadIcons(props){\n    const icone = props.icone;\n    if(icone === \"Transito\"){\n      return (<MaterialIcons name=\"directions-car\" size={30} color=\"black\" />)\n    }\n    else if(icone === \"Saude\"){\n      return (<MaterialIcons name=\"local-hospital\" size={30} color=\"red\" />)\n    }\n    else if(icone === \"Ambiental\") {\n      return (<EvilIcons name=\"trash\" size={40} color=\"grey\"/>)\n    }\n  }\n  \n\n  async function loadProblems() {\n    const { latitude, longitude } = currentRegion;\n    var resposta;\n    const qtd = areaProblema.length\n    if(qtd != 0){\n     resposta = await api.get('/search', {\n      params: {\n        latitude,\n        longitude,\n        areaProblema\n      }\n    })\n    setProblems(resposta.data.problem)\n    }\n  \n   else if (qtd == 0) {\n     resposta = await api.get('/searchAllProblems')\n\n    setProblems(resposta.data)\n    \n    }\n  }\n  \n\n  function list(){\n    Keyboard.dismiss();\n    navigation.openDrawer();\n  }\n\n  function handleRegionChanged(region) {\n    setCurrentRegion(region);\n  }\n\n  useEffect(() => {\n\n\n    \n   const a = loadAllProblems();\n\n    async function loadInitialPosition(){\n      const { granted } = await requestPermissionsAsync();\n      \n      if(granted) {\n        const { coords } = await getCurrentPositionAsync({\n          enableHighAccuracy: true,\n        });\n\n        const { latitude, longitude } = coords;\n\n        setCurrentRegion({\n          latitude,\n          longitude,\n          latitudeDelta: 0.04,\n          longitudeDelta: 0.04,\n        })\n      }  \n    }\n    \n    loadInitialPosition();\n    \n  }, []);\n\n  async function loadAllProblems() {\n\n    const resposta = await api.get('/searchAllProblems')\n\n    setProblems(resposta.data)\n    \n  }\n\n  if(!currentRegion) {\n    return null;\n  }\n\n  return (\n    \n    <>\n    <Header\n        containerStyle={{ backgroundColor: '#8a2be2' }}\n        leftComponent={{ icon: 'menu', color: '#fff', onPress:() => list(), size: 35  }}\n        centerComponent={{ text: 'REPORTE J√Å', style: { color: '#fff' , fontSize: 20}, onPress:() => Keyboard.dismiss()  }}\n        rightComponent={{ text: 'Tutorial', color: '#fff', onPress:() => Actions.tutorial(), style: {color: '#fff', fontSize: 20} }}\n    />\n      <DismissKeyboard>\n\n      <MapView   initialRegion={currentRegion} style={styles.map} region={currentRegion} >\n      {local.map(location => (\n        <MapView.Marker  draggable={true} onDragEnd={(e) => setCurrentRegion(e.nativeEvent.coordinate)}  coordinate={{latitude: currentRegion.latitude, longitude: currentRegion.longitude }} />\n      ))}\n      {Problems.map(problem => (\n        <MapView.Marker key={problem._id} coordinate={{ latitude: problem.posicao.coordinates[1] , longitude: problem.posicao.coordinates[0], title:\"title\", description:\"description\" }} >\n        <LoadIcons icone={problem.areaProblema} />\n        <Callout>\n            <View  style={ styles.callout }>   \n              <Text style={styles.user}>Area: {problem.areaProblema} </Text>\n              <Text style={styles.problem}> Nome: {problem.nomeProblema}</Text>\n              <Text style={styles.problem}> Descri√ß√£o: {problem.descricaoProblema}</Text>\n              <Text style={styles.data}>Reportado em: {problem.CreatedAt} </Text>\n            </View>\n        </Callout>\n        </MapView.Marker>\n      ))}\n      \n      \n       \n      </MapView>\n      \n      </DismissKeyboard>\n      <View style={styles.addForm} >\n        <TouchableOpacity  onPress={() => Actions.formCadastroProblema()} style={styles.addButton}>\n          <Text style={{fontSize:16,fontWeight: 'bold',color: '#FFF'}}>Clique aqui e REPORTE J√Å!</Text>\n        </TouchableOpacity>\n      </View> \n      \n      \n       <KeyboardAvoidingView style={styles.searchForm} behavior=\"padding\" keyboardVerticalOffset= '20'>\n        <TextInput \n        style={styles.searchInput} \n        placeholder=\"Pesquisar uma localiza√ß√£o...\"\n        placeholderTextColor=\"#999\"\n        autoCapitalize=\"words\"\n        autoCorrect={false}\n        value={busca}\n        onChangeText={texto => setBusca(texto)}\n        />\n        <TouchableOpacity  onPress={() => {LoadAddress()}} style={styles.loadButton}>\n          <MaterialIcons name=\"my-location\" size={20} color=\"#FFF\" />\n        </TouchableOpacity>\n\n      </KeyboardAvoidingView>\n      </>\n  );\n}\n\n\n    \n     \n\nconst Drawer = createDrawerNavigator();\n\nexport const App = (props) =>   {\n  return (\n    \n    <NavigationContainer>\n      <Drawer.Navigator \n      initialRouteName=\"Home\" \n      drawerStyle={{backgroundColor: '#4b0082'}} \n      drawerContentOptions={{contentContainerStyle:{marginTop: 10}, activeTintColor: '#8a2be2', \n                            inactiveTintColor: '#8a2be2', inactiveBackgroundColor: '#d3d3d3', \n                            activeBackgroundColor: '#d3d3d3',  itemStyle: { marginTop: 20 }, \n                            labelStyle: {fontSize: 25}\n      }} \n      >\n         \n         <Drawer.Screen name={props.nome} component={HomeScreen} \n        options={{\n        \n          drawerIcon: config => <Image source={require('../imgs/eu.jpeg')} \n                                  style={{ height: 40, width: 50, paddingTop: 60, borderRadius: 100}}\n                                />\n        }}/>\n\n        <Drawer.Screen name=\"Perfil\" component={Perfil} \n        options={{\n        \n          drawerIcon: config => <MaterialIcons name=\"comment\" size={20} color=\"#FFF\" />\n        }}/>\n\n        <Drawer.Screen name=\"Reporte J√°\" component={FormCadastroProblema}  \n                options={{\n                  drawerIcon: config => <MaterialIcons name=\"room\" size={20} color=\"red\" />\n                }}/>\n\n        <Drawer.Screen name=\"Buscar\" component={Buscas} \n                options={{\n                \n                  drawerIcon: config => <MaterialIcons name=\"search\" size={20} color=\"#FFF\" />\n                }}/>      \n\n        <Drawer.Screen name=\"Alterar Cadastro\" component={AlterarCadastro} \n                options={{\n                  drawerIcon: config => <MaterialIcons name=\"contact-mail\" size={20} color=\"red\" />\n                }}/>        \n\n        <Drawer.Screen name=\"Sair\" component={formLogin} \n         options={{\n          drawerIcon: config => <MaterialIcons name=\"exit-to-app\" size={20} color=\"red\" />\n        }}/>\n      </Drawer.Navigator>\n    </NavigationContainer>\n  );\n}\n\nconst mapStateToProps = state =>(\n  {\n    nome: state.AutenticacaoReducer.userNome\n  }\n  \n)\n\nexport default connect(mapStateToProps)(App);\n\nconst styles = StyleSheet.create({\n  map: {\n    flex:1\n  },\n  avatar: {\n    width: 54,\n    height: 54,\n    borderRadius: 2,\n    borderWidth: 2,\n    borderColor: '#FFF'\n  },\n  callout: {\n    width: 200,\n    height: 100\n  },\n  user:{\n    fontWeight: 'bold',\n    fontSize: 16\n  },\n  problem: {\n    color: '#666',\n    marginTop: 5\n  },\n  data: {\n    marginTop: 5\n  },\n  searchForm: {\n    position: 'absolute',\n    top: 100,\n    left: 20,\n    right: 20,\n    zIndex: 5,\n    flexDirection: 'row',\n    justifyContent:'space-between'\n  },\n  searchInput: {\n    flex: 1,\n    height: 50,\n    backgroundColor: '#FFF',\n    color: '#333',\n    borderRadius: 25,\n    paddingHorizontal: 20,\n    fontSize: 16,\n    shadowColor: '#000',\n    shadowOpacity: 0.2,\n    shadowOffset: {\n      width: 4,\n      height: 4,\n    },\n    elevation: 2,\n  },\n  loadButton: {\n    width: 50,\n    height: 50,\n    backgroundColor: '#8E4Dff',\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 15,\n  },\n  addButton: {\n    width: 225,\n    height: 60,\n    backgroundColor: '#8E4Dff',\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 15,\n  },\n  addForm: {\n    alignSelf: 'center',\n    position: 'absolute',\n    bottom: 20,\n    zIndex: 5,\n  },\n});"]},"metadata":{},"sourceType":"module"}
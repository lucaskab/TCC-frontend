{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Lucas\\\\tcc\\\\frontend\\\\src\\\\components\\\\Perfil.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Constants from 'expo-constants';\nimport Logo from \"../assets/logo1.png\";\nimport { Actions } from \"react-native-router-flux\";\nimport { Feather } from '@expo/vector-icons';\nimport { connect } from 'react-redux';\nimport api from \"../../services/api\";\nimport CheckAlert from \"react-native-awesome-alert\";\nexport var Perfil = function Perfil(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      problems = _useState2[0],\n      setProblems = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      qtd = _useState4[0],\n      setQtd = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      qtdalerta = _useState6[0],\n      setQtdAlerta = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      alerta = _useState8[0],\n      setAlerta = _useState8[1];\n\n  var SimpleView = React.createElement(View, {\n    style: styles.modalView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    }\n  });\n\n  onPressSimpleAlert = function onPressSimpleAlert(id) {\n    _this.checkAlert.alert(\"Você tem certeza que deseja deletar o problema?\", SimpleView, [{\n      text: \"Cancelar\",\n      onPress: function onPress() {}\n    }, {\n      text: \"Sim\",\n      onPress: function onPress() {\n        return deletarProblema(id);\n      }\n    }]);\n  };\n\n  function deletarProblema(id) {\n    var resposta;\n    return _regeneratorRuntime.async(function deletarProblema$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(api.post('deletarProblema', {\n              id: id\n            }));\n\n          case 2:\n            resposta = _context.sent;\n            Alert.alert(\"Sucesso\", \"O problema foi deletado!!!\");\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function loadProblems() {\n    var email, response, quantidade;\n    return _regeneratorRuntime.async(function loadProblems$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            email = props.email;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(api.get('/searchProblemsByUser', {\n              params: {\n                email: email\n              }\n            }));\n\n          case 3:\n            response = _context2.sent;\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(api.get('/searchQTDProblemsByUser', {\n              params: {\n                email: email\n              }\n            }));\n\n          case 6:\n            quantidade = _context2.sent;\n            setQtd(quantidade.data);\n            setProblems(response.data);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    loadProblems();\n  }, [problems]);\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    }\n  }, React.createElement(View, {\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    }\n  }, React.createElement(Image, {\n    source: Logo,\n    style: {\n      width: 110,\n      height: 100\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    }\n  }), React.createElement(Text, {\n    style: styles.headerText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    }\n  }, \"Total de problemas: \", React.createElement(Text, {\n    style: styles.headerTextBold,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    }\n  }, \" \", qtd, \" \"))), React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    }\n  }, \"Bem-vindo \", props.nome), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return Actions.alterarCadastro();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    }\n  }, React.createElement(Text, {\n    style: styles.changeData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    }\n  }, \"Alterar dados do perfil\")), React.createElement(Text, {\n    style: styles.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    }\n  }, \"Veja abaixo todos os problemas relatados por voc\\xEA!\"), React.createElement(FlatList, {\n    data: problems,\n    style: styles.problemList,\n    keyExtractor: function keyExtractor(problem) {\n      return String(problem._id);\n    },\n    showsVerticalScrollIndicator: false,\n    renderItem: function renderItem(_ref) {\n      var problem = _ref.item;\n      return React.createElement(View, {\n        style: styles.problem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        }\n      }, React.createElement(View, {\n        style: styles.detailsButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        }\n      }, React.createElement(Text, {\n        style: styles.problemProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        }\n      }, \"Nome: \"), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return onPressSimpleAlert(problem._id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        }\n      }, React.createElement(CheckAlert, {\n        ref: function ref(_ref2) {\n          return _this.checkAlert = _ref2;\n        },\n        modalProps: {\n          transparent: true,\n          animationType: \"slide\"\n        },\n        checkBoxColor: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        }\n      }), React.createElement(Feather, {\n        name: \"trash-2\",\n        size: 20,\n        color: \"#8a2be2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        }\n      }))), React.createElement(Text, {\n        style: styles.problemValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        }\n      }, problem.nomeProblema), React.createElement(Text, {\n        style: styles.problemProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        }\n      }, \"Area:\"), React.createElement(Text, {\n        style: styles.problemValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        }\n      }, problem.areaProblema), React.createElement(Text, {\n        style: styles.problemProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        }\n      }, \"Descri\\xE7\\xE3o:\"), React.createElement(Text, {\n        style: styles.problemValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        }\n      }, problem.descricaoProblema), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {},\n        style: styles.detailsButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        }\n      }, React.createElement(Text, {\n        style: styles.detailsButtonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        }\n      }, \" Ver mais detalhes\"), React.createElement(Feather, {\n        name: \"arrow-right\",\n        size: 20,\n        color: \"#8a2be2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        }\n      })));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    }\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    email: state.AutenticacaoReducer.emailLogin,\n    nome: state.AutenticacaoReducer.userNome,\n    id: state.AutenticacaoReducer.userID\n  };\n};\n\nexport default connect(mapStateToProps)(Perfil);\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingHorizontal: 24,\n    paddingTop: Constants.statusBarHeight + 20\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  headerText: {\n    fontSize: 15,\n    color: '#737380'\n  },\n  headerTextBold: {\n    fontWeight: 'bold',\n    color: '#8a2be2',\n    fontSize: 20\n  },\n  title: {\n    fontSize: 30,\n    marginBottom: 16,\n    marginTop: 40,\n    color: '#13131a',\n    fontWeight: 'bold'\n  },\n  description: {\n    fontSize: 16,\n    lineHeight: 24,\n    color: '#737380'\n  },\n  changeData: {\n    fontSize: 16,\n    lineHeight: 24,\n    color: '#8a2be2',\n    textDecorationLine: 'underline',\n    marginBottom: 10\n  },\n  problemList: {\n    marginTop: 25\n  },\n  problem: {\n    padding: 24,\n    borderRadius: 8,\n    backgroundColor: '#FFF',\n    marginBottom: 16\n  },\n  problemProperty: {\n    fontSize: 14,\n    color: '#41414d',\n    fontWeight: 'bold'\n  },\n  problemValue: {\n    marginTop: 8,\n    fontSize: 15,\n    marginBottom: 24,\n    color: '#737380'\n  },\n  detailsButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  detailsButtonText: {\n    color: '#8a2be2',\n    fontSize: 15,\n    fontWeight: 'bold'\n  },\n  modalView: {\n    backgroundColor: '#rgb(235,233,227)',\n    borderRadius: 15,\n    width: 275,\n    borderColor: 'white',\n    borderWidth: 0.7\n  }\n});","map":{"version":3,"sources":["C:/Users/Lucas/tcc/frontend/src/components/Perfil.js"],"names":["React","useEffect","useState","Constants","Logo","Actions","Feather","connect","api","CheckAlert","Perfil","props","problems","setProblems","qtd","setQtd","qtdalerta","setQtdAlerta","alerta","setAlerta","SimpleView","styles","modalView","onPressSimpleAlert","id","checkAlert","alert","text","onPress","deletarProblema","post","resposta","Alert","loadProblems","email","get","params","response","quantidade","data","container","header","width","height","headerText","headerTextBold","title","nome","alterarCadastro","changeData","description","problemList","problem","String","_id","item","detailsButton","problemProperty","ref","transparent","animationType","problemValue","nomeProblema","areaProblema","descricaoProblema","detailsButtonText","mapStateToProps","state","AutenticacaoReducer","emailLogin","userNome","userID","StyleSheet","create","flex","paddingHorizontal","paddingTop","statusBarHeight","flexDirection","justifyContent","alignItems","fontSize","color","fontWeight","marginBottom","marginTop","lineHeight","textDecorationLine","padding","borderRadius","backgroundColor","borderColor","borderWidth"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { Text, FlatList, View, StyleSheet, Image, TouchableOpacity, Alert} from 'react-native';\r\nimport Constants from 'expo-constants'\r\nimport Logo from '../assets/logo1.png';\r\nimport {Actions} from \"react-native-router-flux\";\r\nimport { Feather } from '@expo/vector-icons'\r\nimport { connect } from 'react-redux';\r\nimport api from '../../services/api';\r\nimport CheckAlert from \"react-native-awesome-alert\"\r\n\r\n\r\n  \r\n\r\nexport const Perfil = (props) =>  {\r\n    const [problems, setProblems] = useState([]);\r\n    const [qtd, setQtd] = useState('');\r\n    const [qtdalerta, setQtdAlerta] = useState(0);\r\n    const [alerta, setAlerta] = useState(false);\r\n    const SimpleView = (\r\n        <View style={styles.modalView}>\r\n          \r\n        </View>\r\n      )\r\n \r\n    onPressSimpleAlert = (id) => {\r\n        this.checkAlert.alert(\"Você tem certeza que deseja deletar o problema?\", SimpleView, [\r\n          { text: \"Cancelar\", onPress: () => {} },\r\n          { text: \"Sim\", onPress: () => deletarProblema(id)  }\r\n        ])\r\n      }\r\n    \r\n    async function deletarProblema(id){\r\n\r\n        const resposta = await api.post('deletarProblema', {id});\r\n        Alert.alert(\"Sucesso\",\"O problema foi deletado!!!\")\r\n    } \r\n   \r\n    \r\n\r\n    \r\n    \r\n    async function loadProblems(){\r\n        const email = props.email\r\n        const response = await api.get('/searchProblemsByUser',{\r\n            params: {\r\n                email\r\n            }\r\n        })\r\n        const quantidade = await api.get('/searchQTDProblemsByUser',{\r\n            params: {\r\n                email\r\n            }\r\n        })\r\n        setQtd(quantidade.data)\r\n        setProblems(response.data)\r\n    }\r\n\r\n\r\nuseEffect(() => {\r\n    loadProblems();\r\n}, [problems]);\r\n\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n        <View style={styles.header}>\r\n        <Image source={Logo} style={{width: 110, height: 100}} />\r\n        <Text style={styles.headerText}>\r\n            Total de problemas: <Text style={styles.headerTextBold}> {qtd} </Text>\r\n        </Text>\r\n        </View>\r\n\r\n        <Text style={styles.title}>Bem-vindo {props.nome}</Text>\r\n        <TouchableOpacity onPress={() => Actions.alterarCadastro()}>\r\n        <Text style={styles.changeData}>Alterar dados do perfil</Text>\r\n        </TouchableOpacity>\r\n        <Text style={styles.description}>Veja abaixo todos os problemas relatados por você!</Text>\r\n        \r\n        <FlatList \r\n            data={problems}\r\n            style={styles.problemList}\r\n            keyExtractor={problem => String(problem._id)}\r\n            showsVerticalScrollIndicator={false}\r\n            renderItem={({ item: problem }) => (\r\n                <View style={styles.problem}>\r\n                <View style={styles.detailsButton}>\r\n                <Text style={styles.problemProperty}>Nome: </Text>\r\n                <TouchableOpacity onPress={() => onPressSimpleAlert(problem._id)}>\r\n                    <CheckAlert\r\n                    ref={ref => (this.checkAlert = ref)}\r\n                    // available Modal's props options: https://facebook.github.io/react-native/docs/modal.html\r\n                    modalProps={{\r\n                        transparent: true,\r\n                        animationType: \"slide\",\r\n                    }}\r\n                    checkBoxColor=\"red\"\r\n                    />\r\n                    <Feather name=\"trash-2\" size={20} color=\"#8a2be2\" />\r\n                </TouchableOpacity>\r\n                </View>\r\n                <Text style={styles.problemValue}>{problem.nomeProblema}</Text>\r\n\r\n                <Text style={styles.problemProperty}>Area:</Text>\r\n                <Text style={styles.problemValue}>{problem.areaProblema}</Text>\r\n\r\n                <Text style={styles.problemProperty}>Descrição:</Text>\r\n                <Text style={styles.problemValue}>{problem.descricaoProblema}</Text>\r\n\r\n\r\n                <TouchableOpacity onPress={() => {}} style={styles.detailsButton}>\r\n                    <Text style={styles.detailsButtonText}> Ver mais detalhes</Text>\r\n                    <Feather name=\"arrow-right\" size={20} color=\"#8a2be2\" />\r\n                </TouchableOpacity>\r\n            </View>\r\n            )}\r\n        />\r\n        </View> \r\n\r\n        \r\n    )\r\n}\r\n\r\nconst mapStateToProps = state =>(\r\n    {\r\n      email: state.AutenticacaoReducer.emailLogin,\r\n      nome: state.AutenticacaoReducer.userNome,\r\n      id: state.AutenticacaoReducer.userID\r\n    }\r\n    \r\n  )\r\n  \r\nexport default connect(mapStateToProps)(Perfil);\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        paddingHorizontal: 24,\r\n        paddingTop: Constants.statusBarHeight + 20\r\n    },\r\n    header: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    headerText: {\r\n        fontSize: 15,\r\n        color: '#737380'\r\n    },\r\n    headerTextBold:{\r\n        fontWeight: 'bold',\r\n        color: '#8a2be2',\r\n        fontSize: 20\r\n    },\r\n    title: {\r\n        fontSize: 30,\r\n        marginBottom: 16,\r\n        marginTop: 40,\r\n        color: '#13131a',\r\n        fontWeight: 'bold'\r\n    },\r\n    description: {\r\n        fontSize: 16,\r\n        lineHeight: 24,\r\n        color: '#737380',\r\n    },\r\n    changeData: {\r\n        fontSize: 16,\r\n        lineHeight: 24,\r\n        color: '#8a2be2',\r\n        textDecorationLine: 'underline',\r\n        marginBottom: 10\r\n    },\r\n    problemList: {\r\n        marginTop: 25\r\n    },\r\n    problem: {\r\n        padding: 24,\r\n        borderRadius: 8,\r\n        backgroundColor: '#FFF',\r\n        marginBottom: 16\r\n    },\r\n    problemProperty: {\r\n        fontSize: 14,\r\n        color:'#41414d',\r\n        fontWeight: 'bold'\r\n    },\r\n    problemValue: {\r\n        marginTop: 8,\r\n        fontSize: 15,\r\n        marginBottom: 24,\r\n        color: '#737380'\r\n    },\r\n    detailsButton: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    detailsButtonText: {\r\n        color: '#8a2be2',\r\n        fontSize: 15,\r\n        fontWeight: 'bold',\r\n    },\r\n    modalView: {\r\n        backgroundColor: '#rgb(235,233,227)',\r\n        borderRadius: 15,\r\n        width: 275,\r\n        borderColor: 'white',\r\n        borderWidth: 0.7,\r\n      }\r\n}); "]},"metadata":{},"sourceType":"module"}